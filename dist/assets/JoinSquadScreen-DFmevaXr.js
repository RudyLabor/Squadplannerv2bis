import{r as d,j as e,Y as c,A as x}from"./index-D_HhqbxM.js";import{B as h}from"./button-LWl2mh07.js";import{I as u}from"./input-CcRrkoAc.js";import{A as v}from"./arrow-left-CFku1NrH.js";function j({onNavigate:i,showToast:s}){const[a,n]=d.useState(""),[t,o]=d.useState(!1),l=async()=>{if(!a.trim()){s("Veuillez entrer un code d'invitation","error");return}o(!0);try{const{squad:r,message:m}=await x.join(a.trim());s(m||"Vous avez rejoint la squad !","success"),setTimeout(()=>{i("squad-detail",{squadId:r.id})},500)}catch(r){console.error("Join squad error:",r),s(r.message||"Code d'invitation invalide","error")}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen pb-24 pt-safe",children:e.jsxs("div",{className:"px-4 py-8 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-10",children:[e.jsx("button",{onClick:()=>i("home"),className:"w-12 h-12 rounded-2xl bg-white border-[0.5px] border-[var(--border-medium)] flex items-center justify-center hover:border-[var(--border-strong)] shadow-sm transition-all",children:e.jsx(v,{className:"w-5 h-5 text-[var(--fg-primary)]",strokeWidth:2})}),e.jsx("h1",{className:"text-2xl font-semibold text-[var(--fg-primary)] tracking-tight",children:"Rejoindre une squad"})]}),e.jsx("div",{className:"bg-[var(--secondary-50)] rounded-2xl p-5 mb-8 border-[0.5px] border-[var(--secondary-200)]",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[var(--secondary-500)] flex items-center justify-center flex-shrink-0",children:e.jsx(c,{className:"w-5 h-5 text-white",strokeWidth:2})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-[var(--fg-primary)] mb-1",children:"Code d'invitation requis"}),e.jsx("p",{className:"text-sm text-[var(--fg-tertiary)]",children:"Demandez le code à un membre de la squad ou utilisez le lien d'invitation."})]})]})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"text-sm text-[var(--fg-secondary)] mb-3 block font-semibold",children:"Code d'invitation"}),e.jsx(u,{value:a,onChange:r=>n(r.target.value.toUpperCase()),placeholder:"Ex: ABC123",className:"h-14 bg-white border-[0.5px] border-[var(--border-medium)] rounded-2xl shadow-sm focus:border-[var(--primary-500)] focus:ring-2 focus:ring-[var(--primary-500)]/20 text-center text-lg font-semibold tracking-wider"})]}),e.jsx(h,{variant:"primary",onClick:l,disabled:!a.trim()||t,className:"w-full h-14 bg-gradient-to-br from-[var(--primary-500)] to-[var(--primary-600)] hover:from-[var(--primary-600)] hover:to-[var(--primary-700)] text-white rounded-2xl shadow-lg shadow-[var(--primary-500)]/20 hover:shadow-xl hover:shadow-[var(--primary-500)]/30 font-semibold disabled:opacity-40 transition-all duration-200",children:t?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Vérification..."]}):"Vérifier le code"})]})})}export{j as JoinSquadScreen,j as default};
