import{x as h,r as c,j as s,B as b,D as p,H as u,I as j,P as f,A as g}from"./index-D_HhqbxM.js";import{B as n}from"./button-LWl2mh07.js";import{I as F}from"./ImageWithFallback-C-S-nwbk.js";import{A as x}from"./AnimatedCard-R1UZ6R30.js";import{A as N}from"./arrow-left-CFku1NrH.js";import{C as v}from"./clock-CJ_fTx8V.js";import{M as B}from"./message-circle-CwYZiA0O.js";import{S as C}from"./sparkles-CBkY3RwN.js";function P({onNavigate:e,showToast:i,data:w}){const{t:r}=h(),[l,m]=c.useState(null),[o,d]=c.useState(!0);return c.useEffect(()=>{(async()=>{d(!0);try{const t=await g.getSquads();t.squads&&t.squads.length>0&&m(t.squads[0])}catch(t){console.error(t),i==null||i("Erreur de chargement: "+t.message,"error")}finally{d(!1)}})()},[]),o||!l?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Chargement..."}):s.jsxs("div",{className:"min-h-screen bg-[#F5F3F0] pb-20",children:[s.jsx("div",{className:"sticky top-0 z-40 bg-[#FDFCFB]/95 backdrop-blur-xl border-b border-[rgba(120,113,108,0.1)]",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e==null?void 0:e("squads"),className:"p-2 hover:bg-[#FFFBEB] rounded-lg transition-colors",children:s.jsx(N,{className:"w-5 h-5 text-[rgba(28,25,23,0.7)]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-[rgba(28,25,23,0.95)]",children:l.name}),s.jsx("p",{className:"text-sm text-[rgba(28,25,23,0.6)]",children:l.game})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(x,{className:"p-6 bg-[#FDFCFB] border-[0.5px] border-[rgba(120,113,108,0.1)] rounded-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-[rgba(28,25,23,0.95)]",children:r("squad.nextSession")}),s.jsx(b,{className:"w-5 h-5 text-[#F59E0B]"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(v,{className:"w-4 h-4 text-[rgba(28,25,23,0.5)]"}),s.jsxs("span",{className:"text-[rgba(28,25,23,0.7)]",children:[l.nextSession.date," à ",l.nextSession.time]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(p,{className:"w-4 h-4 text-[rgba(28,25,23,0.5)]"}),s.jsxs("span",{className:"text-[rgba(28,25,23,0.7)]",children:[l.nextSession.confirmed,"/",l.nextSession.total," confirmés"]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsxs(n,{className:"flex-1 bg-[#10B981] text-white",children:[s.jsx(u,{className:"w-4 h-4"}),r("rsvp.available")]}),s.jsxs(n,{variant:"outline",className:"flex-1 border-[#F43F5E] text-[#F43F5E]",children:[s.jsx(j,{className:"w-4 h-4"}),r("rsvp.unavailable")]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>e==null?void 0:e("propose-session"),className:"p-4 bg-[#FFFBEB] border border-[#FCD34D] rounded-xl text-left hover:shadow-lg transition-all",children:[s.jsx(f,{className:"w-5 h-5 text-[#F59E0B] mb-2"}),s.jsx("div",{className:"font-semibold text-[rgba(28,25,23,0.95)]",children:r("squad.proposeSession")})]}),s.jsxs("button",{onClick:()=>e==null?void 0:e("squad-chat"),className:"p-4 bg-[#F0FDFA] border border-[#5EEAD4] rounded-xl text-left hover:shadow-lg transition-all",children:[s.jsx(B,{className:"w-5 h-5 text-[#14B8A6] mb-2"}),s.jsx("div",{className:"font-semibold text-[rgba(28,25,23,0.95)]",children:r("squad.chat")})]})]}),s.jsxs(x,{className:"p-6 bg-[#FDFCFB] border-[0.5px] border-[rgba(120,113,108,0.1)] rounded-2xl",children:[s.jsx("h3",{className:"text-lg font-semibold text-[rgba(28,25,23,0.95)] mb-4",children:r("squad.members")}),s.jsx("div",{className:"space-y-4",children:l.members.map(a=>s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-xl hover:bg-[rgba(120,113,108,0.05)] transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(F,{src:a.avatar,alt:a.name,className:"w-10 h-10 rounded-full"}),a.online&&s.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-[#10B981] border-2 border-[#FDFCFB] rounded-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold text-[rgba(28,25,23,0.95)] flex items-center gap-2",children:[a.name,a.reliability>=95&&s.jsx(C,{className:"w-3 h-3 text-[#F59E0B]"})]}),s.jsxs("div",{className:"text-xs text-[rgba(28,25,23,0.6)]",children:["Fiabilité: ",a.reliability,"%"]})]})]}),a.online&&s.jsx("span",{className:"text-xs font-medium text-[#10B981] bg-[#ECFDF5] px-2 py-1 rounded-full",children:"En ligne"})]},a.id))})]})]})})]})}export{P as SquadDetailScreen,P as default};
