const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-D_HhqbxM.js","assets/index-BND9WA7Q.css"])))=>i.map(i=>d[i]);
import{c as y,r as x,J as I,u as M,j as e,m as n,U as _,B as z,E as U,_ as D}from"./index-D_HhqbxM.js";import{B as N}from"./button-LWl2mh07.js";import{I as d}from"./input-CcRrkoAc.js";import{I as H}from"./ImageWithFallback-C-S-nwbk.js";import{u as V}from"./useHaptic-BhqY_yQP.js";import{A as B}from"./arrow-left-CFku1NrH.js";import{S as F}from"./save-CuAnzQaS.js";import{M as G}from"./mail-RNPiUaSl.js";import{C as q}from"./clock-CJ_fTx8V.js";import{T as w}from"./trash-2-DiIqnes2.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=y("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=y("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=y("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);function k({onNavigate:c,showToast:l}){const{impact:h}=V(),u=x.useRef(null),{userProfile:s,updateUserProfile:C}=I(),{getAccessToken:T}=M(),[a,S]=x.useState({displayName:s.displayName,username:s.username,email:s.email,bio:s.bio,location:s.location,birthday:s.birthday,favoriteGame:s.favoriteGame,playStyle:s.playStyle,availableHours:s.availableHours}),[p,P]=x.useState(s.avatarUrl),[v,b]=x.useState(!1),t=(r,i)=>{S({...a,[r]:i}),b(!0)},A=async()=>{var r,i;h();try{console.log("üíæ Saving profile...");const{authAPI:o}=await D(async()=>{const{authAPI:f}=await import("./index-D_HhqbxM.js").then(g=>g.a7);return{authAPI:f}},__vite__mapDeps([0,1])),m=await o.updateProfile({...a,avatarUrl:p});console.log("‚úÖ Profile saved:",m),C({...a,avatarUrl:p}),l("Profil mis √† jour avec succ√®s ! üéâ","success"),b(!1),setTimeout(()=>c("profile"),500)}catch(o){console.error("‚ùå Save profile error:",o),(r=o.message)!=null&&r.includes("Session")||(i=o.message)!=null&&i.includes("reconnecter")?(l("Session expir√©e. Veuillez vous reconnecter.","error"),c("login")):l(o.message||"Erreur lors de la sauvegarde","error")}},L=()=>{h(),u.current&&u.current.click()},W=r=>{var m;const i=(m=r.target.files)==null?void 0:m[0];if(!i)return;if(i.size>5*1024*1024){l("L'image ne doit pas d√©passer 5MB","error");return}if(!i.type.startsWith("image/")){l("Le fichier doit √™tre une image","error");return}const o=new FileReader;o.onload=f=>{var j;const g=(j=f.target)==null?void 0:j.result;P(g),b(!0),l("Photo de profil mise √† jour ! üì∏","success")},o.readAsDataURL(i)},E=()=>{h(),window.confirm("√ätes-vous s√ªr de vouloir supprimer votre compte ? Cette action est irr√©versible.")&&(l("Compte supprim√©","error"),c("login"))};return e.jsxs("div",{className:"min-h-screen pb-24 pt-safe",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-xl border-b-[0.5px] border-[var(--border-subtle)]",children:e.jsxs("div",{className:"px-4 h-14 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>c("profile"),className:"w-10 h-10 rounded-xl bg-[var(--bg-base)] flex items-center justify-center hover:bg-[var(--bg-elevated)] transition-all",children:e.jsx(B,{className:"w-5 h-5 text-[var(--fg-primary)]",strokeWidth:2})}),e.jsx("h1",{className:"text-base font-semibold text-[var(--fg-primary)]",children:"Modifier le profil"}),e.jsxs(N,{onClick:A,disabled:!v,className:`h-10 px-6 text-sm font-semibold rounded-2xl transition-all duration-200 ${v?"bg-gradient-to-br from-[var(--primary-500)] to-[var(--primary-600)] hover:from-[var(--primary-600)] hover:to-[var(--primary-700)] text-white shadow-lg shadow-[var(--primary-500)]/20 hover:shadow-xl hover:shadow-[var(--primary-500)]/30":"bg-[var(--bg-elevated)] text-[var(--fg-tertiary)] cursor-not-allowed"}`,children:[e.jsx(F,{className:"w-4 h-4",strokeWidth:2}),"Enregistrer"]})]})}),e.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:W,className:"hidden"}),e.jsxs("div",{className:"px-4 py-8 max-w-2xl mx-auto",children:[e.jsxs(n.div,{className:"bg-white rounded-2xl p-6 border-[0.5px] border-[var(--border-subtle)] shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[e.jsx("h2",{className:"text-base font-semibold text-[var(--fg-primary)] mb-4",children:"Photo de profil"}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 rounded-2xl overflow-hidden ring-2 ring-[var(--border-subtle)]",children:e.jsx(H,{src:p,alt:"Avatar",className:"w-full h-full object-cover"})}),e.jsx("button",{onClick:L,className:"absolute -bottom-2 -right-2 w-10 h-10 rounded-xl bg-gradient-to-br from-[var(--primary-500)] to-[var(--primary-600)] text-white flex items-center justify-center shadow-lg shadow-[var(--primary-500)]/20 hover:shadow-xl hover:shadow-[var(--primary-500)]/30 transition-all",children:e.jsx(O,{className:"w-5 h-5",strokeWidth:2})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-[var(--fg-secondary)] mb-2",children:"Photo de profil publique"}),e.jsx("p",{className:"text-xs text-[var(--fg-tertiary)]",children:"JPG, PNG ou GIF. Max 5MB."})]})]})]}),e.jsxs(n.div,{className:"bg-white rounded-2xl p-6 border-[0.5px] border-[var(--border-subtle)] shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("h2",{className:"text-base font-semibold text-[var(--fg-primary)] mb-4",children:"Informations de base"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[var(--fg-secondary)] mb-2",children:[e.jsx(_,{className:"w-4 h-4 inline mr-1.5",strokeWidth:2}),"Nom d'affichage"]}),e.jsx(d,{value:a.displayName,onChange:r=>t("displayName",r.target.value),placeholder:"Votre nom",className:"rounded-2xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[var(--fg-secondary)] mb-2",children:[e.jsx(R,{className:"w-4 h-4 inline mr-1.5",strokeWidth:2}),"Nom d'utilisateur"]}),e.jsx(d,{value:a.username,onChange:r=>t("username",r.target.value),placeholder:"@username",className:"rounded-2xl"}),e.jsx("p",{className:"text-xs text-[var(--fg-tertiary)] mt-1.5",children:"Utilis√© pour vous identifier dans l'app"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[var(--fg-secondary)] mb-2",children:[e.jsx(G,{className:"w-4 h-4 inline mr-1.5",strokeWidth:2}),"Email"]}),e.jsx(d,{type:"email",value:a.email,onChange:r=>t("email",r.target.value),placeholder:"votre@email.com",className:"rounded-2xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--fg-secondary)] mb-2",children:"Bio"}),e.jsx("textarea",{value:a.bio,onChange:r=>t("bio",r.target.value),placeholder:"Parlez de vous...",rows:3,className:"w-full px-4 py-3 rounded-2xl border-[0.5px] border-[var(--border-medium)] focus:border-[var(--border-strong)] bg-white text-[var(--fg-primary)] text-sm transition-all resize-none"}),e.jsxs("p",{className:"text-xs text-[var(--fg-tertiary)] mt-1.5",children:[a.bio.length,"/200 caract√®res"]})]})]})]}),e.jsxs(n.div,{className:"bg-white rounded-2xl p-6 border-[0.5px] border-[var(--border-subtle)] shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsx("h2",{className:"text-base font-semibold text-[var(--fg-primary)] mb-4",children:"Informations personnelles"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[var(--fg-secondary)] mb-2",children:[e.jsx(J,{className:"w-4 h-4 inline mr-1.5",strokeWidth:2}),"Localisation"]}),e.jsx(d,{value:a.location,onChange:r=>t("location",r.target.value),placeholder:"Ville, Pays",className:"rounded-2xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[var(--fg-secondary)] mb-2",children:[e.jsx(z,{className:"w-4 h-4 inline mr-1.5",strokeWidth:2}),"Date de naissance"]}),e.jsx(d,{type:"date",value:a.birthday,onChange:r=>t("birthday",r.target.value),className:"rounded-2xl"})]})]})]}),e.jsxs(n.div,{className:"bg-white rounded-2xl p-6 border-[0.5px] border-[var(--border-subtle)] shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsx("h2",{className:"text-base font-semibold text-[var(--fg-primary)] mb-4",children:"Pr√©f√©rences de jeu"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[var(--fg-secondary)] mb-2",children:[e.jsx(U,{className:"w-4 h-4 inline mr-1.5",strokeWidth:2}),"Jeu favori"]}),e.jsxs("select",{value:a.favoriteGame,onChange:r=>t("favoriteGame",r.target.value),className:"w-full px-4 py-3 rounded-2xl border-[0.5px] border-[var(--border-medium)] focus:border-[var(--border-strong)] bg-white text-[var(--fg-primary)] text-sm transition-all",children:[e.jsx("option",{value:"Valorant",children:"Valorant"}),e.jsx("option",{value:"CS2",children:"Counter-Strike 2"}),e.jsx("option",{value:"League of Legends",children:"League of Legends"}),e.jsx("option",{value:"Apex Legends",children:"Apex Legends"}),e.jsx("option",{value:"Overwatch 2",children:"Overwatch 2"}),e.jsx("option",{value:"Fortnite",children:"Fortnite"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--fg-secondary)] mb-2",children:"Style de jeu"}),e.jsxs("select",{value:a.playStyle,onChange:r=>t("playStyle",r.target.value),className:"w-full px-4 py-3 rounded-2xl border-[0.5px] border-[var(--border-medium)] focus:border-[var(--border-strong)] bg-white text-[var(--fg-primary)] text-sm transition-all",children:[e.jsx("option",{value:"Aggressive",children:"Agressif"}),e.jsx("option",{value:"Defensive",children:"D√©fensif"}),e.jsx("option",{value:"Balanced",children:"√âquilibr√©"}),e.jsx("option",{value:"Support",children:"Support"}),e.jsx("option",{value:"Strategic",children:"Strat√©gique"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[var(--fg-secondary)] mb-2",children:[e.jsx(q,{className:"w-4 h-4 inline mr-1.5",strokeWidth:2}),"Horaires de disponibilit√©"]}),e.jsx(d,{value:a.availableHours,onChange:r=>t("availableHours",r.target.value),placeholder:"Ex: 20:00 - 00:00",className:"rounded-2xl"}),e.jsx("p",{className:"text-xs text-[var(--fg-tertiary)] mt-1.5",children:"Aide votre squad √† planifier des sessions"})]})]})]}),e.jsxs(n.div,{className:"bg-gradient-to-br from-red-50 to-orange-50 rounded-2xl p-6 border-[0.5px] border-red-200 shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[e.jsxs("h2",{className:"text-base font-semibold text-red-700 mb-2 flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4",strokeWidth:2}),"Zone dangereuse"]}),e.jsx("p",{className:"text-sm text-red-600 mb-4",children:"La suppression de votre compte est irr√©versible. Toutes vos donn√©es seront perdues."}),e.jsxs(N,{onClick:E,className:"h-10 px-6 text-sm font-semibold rounded-2xl bg-gradient-to-br from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg shadow-red-500/20 hover:shadow-xl hover:shadow-red-500/30 transition-all duration-200",children:[e.jsx(w,{className:"w-4 h-4",strokeWidth:2}),"Supprimer le compte"]})]}),v&&e.jsx(n.div,{className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-white rounded-2xl px-6 py-3 border-[0.5px] border-[var(--border-subtle)] shadow-xl z-50",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsx("p",{className:"text-sm text-[var(--fg-secondary)]",children:"Vous avez des modifications non sauvegard√©es"})})]})]})}const te=Object.freeze(Object.defineProperty({__proto__:null,EditProfileScreen:k,default:k},Symbol.toStringTag,{value:"Module"}));export{O as C,k as E,te as a};
