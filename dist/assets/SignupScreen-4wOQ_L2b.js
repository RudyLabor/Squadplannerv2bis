import{r as l,u as k,j as e,m as x,U as C}from"./index-D_HhqbxM.js";import{A as w}from"./arrow-left-CFku1NrH.js";import{M as E}from"./mail-RNPiUaSl.js";import{L as f}from"./lock-DzCotoe-.js";import{E as P}from"./eye-off-1NwyGScl.js";import{E as S}from"./eye-c4D54zEX.js";import{U as z}from"./user-plus-DXzQc6BM.js";function D({onNavigate:s,onSignup:o,showToast:t}){const[n,h]=l.useState(""),[a,v]=l.useState(""),[i,b]=l.useState(""),[d,j]=l.useState(""),[c,g]=l.useState(!1),[u,p]=l.useState(!1),{signUp:N}=k(),y=async()=>{if(!n||!a||!i||!d){t==null||t("Veuillez remplir tous les champs","error");return}if(i!==d){t==null||t("Les mots de passe ne correspondent pas","error");return}if(i.length<6){t==null||t("Le mot de passe doit contenir au moins 6 caractÃ¨res","error");return}p(!0);try{console.log("ðŸ“ Starting signup process for:",a),await N(a,i,n),o==null||o(a,n,!0),t==null||t(`Compte crÃ©Ã© ! Bienvenue ${n} ! ðŸŽ‰`,"success"),s==null||s("home")}catch(r){console.error("âŒ Signup error:",r);const m=r.message||"Erreur lors de la crÃ©ation du compte";m.includes("already been registered")||m.includes("already exists")?(console.log("âš ï¸ Account already exists for:",a),t==null||t("Un compte existe dÃ©jÃ  avec cet email. Essayez de vous connecter ou contactez le support si vous avez oubliÃ© votre mot de passe.","error"),setTimeout(()=>s==null?void 0:s("login"),3e3)):t==null||t(m,"error")}finally{p(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[var(--secondary-500)] via-[var(--secondary-600)] to-[var(--primary-600)] flex items-center justify-center px-4 py-8",children:e.jsxs(x.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:[e.jsxs("button",{onClick:()=>s==null?void 0:s("login"),className:"mb-4 flex items-center gap-2 text-white/80 hover:text-white transition-colors",children:[e.jsx(w,{className:"w-5 h-5",strokeWidth:2}),e.jsx("span",{className:"text-sm font-medium",children:"Retour"})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(x.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-white shadow-2xl mb-4",children:e.jsx("span",{className:"text-4xl",children:"ðŸŽ®"})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Rejoignez Squad Planner"}),e.jsx("p",{className:"text-white/80 text-sm",children:"CrÃ©ez votre compte et devenez Premium"})]}),e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-3xl p-8 shadow-2xl",children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--text-primary)] mb-6",children:"CrÃ©er un compte"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Nom d'utilisateur"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--text-tertiary)]",strokeWidth:2}),e.jsx("input",{type:"text",value:n,onChange:r=>h(r.target.value),placeholder:"Votre pseudo gaming",className:"w-full pl-12 pr-4 py-3.5 bg-[var(--background)] rounded-xl text-[var(--text-primary)] placeholder:text-[var(--text-tertiary)] focus:outline-none focus:ring-2 focus:ring-[var(--secondary-500)] transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--text-tertiary)]",strokeWidth:2}),e.jsx("input",{type:"email",value:a,onChange:r=>v(r.target.value),placeholder:"votre@email.com",className:"w-full pl-12 pr-4 py-3.5 bg-[var(--background)] rounded-xl text-[var(--text-primary)] placeholder:text-[var(--text-tertiary)] focus:outline-none focus:ring-2 focus:ring-[var(--secondary-500)] transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--text-tertiary)]",strokeWidth:2}),e.jsx("input",{type:c?"text":"password",value:i,onChange:r=>b(r.target.value),placeholder:"Au moins 6 caractÃ¨res",className:"w-full pl-12 pr-12 py-3.5 bg-[var(--background)] rounded-xl text-[var(--text-primary)] placeholder:text-[var(--text-tertiary)] focus:outline-none focus:ring-2 focus:ring-[var(--secondary-500)] transition-all"}),e.jsx("button",{type:"button",onClick:()=>g(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)] hover:text-[var(--text-primary)] transition-colors",children:c?e.jsx(P,{className:"w-5 h-5",strokeWidth:2}):e.jsx(S,{className:"w-5 h-5",strokeWidth:2})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Confirmer le mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--text-tertiary)]",strokeWidth:2}),e.jsx("input",{type:c?"text":"password",value:d,onChange:r=>j(r.target.value),placeholder:"RÃ©pÃ©tez votre mot de passe",className:"w-full pl-12 pr-4 py-3.5 bg-[var(--background)] rounded-xl text-[var(--text-primary)] placeholder:text-[var(--text-tertiary)] focus:outline-none focus:ring-2 focus:ring-[var(--secondary-500)] transition-all",onKeyDown:r=>r.key==="Enter"&&y()})]})]}),e.jsx("button",{onClick:y,disabled:u,className:"w-full py-3.5 bg-[var(--secondary-600)] text-white rounded-xl font-semibold hover:bg-[var(--secondary-700)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-6",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"CrÃ©ation..."]}):e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-5 h-5",strokeWidth:2}),"CrÃ©er mon compte"]})})]}),e.jsxs("p",{className:"text-xs text-[var(--text-tertiary)] text-center mt-6",children:["En crÃ©ant un compte, vous acceptez nos"," ",e.jsx("button",{className:"text-[var(--secondary-600)] hover:underline",children:"Conditions d'utilisation"})," ","et notre"," ",e.jsx("button",{className:"text-[var(--secondary-600)] hover:underline",children:"Politique de confidentialitÃ©"})]})]}),e.jsxs("p",{className:"text-center text-white/60 text-sm mt-6",children:["DÃ©jÃ  un compte ?"," ",e.jsx("button",{onClick:()=>s==null?void 0:s("login"),className:"text-white font-semibold hover:underline",children:"Se connecter"})]})]})})}export{D as SignupScreen,D as default};
