import{x as R,r as N,y as V,z as A,j as n,B as k,m as C,Z as Y,D as _,C as T,X as z,P as q}from"./index-D_HhqbxM.js";import{B as Q}from"./button-LWl2mh07.js";import{E as X}from"./EmptyState-CPoNkjdP.js";import{I as B}from"./ImageWithFallback-C-S-nwbk.js";import{a as U}from"./mockData-CmE002oF.js";import{C as K}from"./clock-CJ_fTx8V.js";function u(e){const a=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&a==="[object Date]"?new e.constructor(+e):typeof e=="number"||a==="[object Number]"||typeof e=="string"||a==="[object String]"?new Date(e):new Date(NaN)}function Z(e,a){return e instanceof Date?new e.constructor(a):new Date(a)}const D=43200,I=1440;let G={};function ee(){return G}function L(e){const a=u(e),t=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return t.setUTCFullYear(a.getFullYear()),+e-+t}function W(e,a){const t=u(e),r=u(a),s=t.getTime()-r.getTime();return s<0?-1:s>0?1:s}function te(e){return Z(e,Date.now())}function ae(e,a){const t=u(e),r=u(a),s=t.getFullYear()-r.getFullYear(),c=t.getMonth()-r.getMonth();return s*12+c}function re(e){return a=>{const r=(e?Math[e]:Math.trunc)(a);return r===0?0:r}}function ne(e,a){return+u(e)-+u(a)}function se(e){const a=u(e);return a.setHours(23,59,59,999),a}function ie(e){const a=u(e),t=a.getMonth();return a.setFullYear(a.getFullYear(),t+1,0),a.setHours(23,59,59,999),a}function oe(e){const a=u(e);return+se(a)==+ie(a)}function de(e,a){const t=u(e),r=u(a),s=W(t,r),c=Math.abs(ae(t,r));let d;if(c<1)d=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-s*c);let o=W(t,r)===-s;oe(u(e))&&c===1&&W(e,r)===1&&(o=!1),d=s*(c-Number(o))}return d===0?0:d}function ce(e,a,t){const r=ne(e,a)/1e3;return re(t==null?void 0:t.roundingMethod)(r)}const me={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},le=(e,a,t)=>{let r;const s=me[e];return typeof s=="string"?r=s:a===1?r=s.one:r=s.other.replace("{{count}}",a.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function j(e){return(a={})=>{const t=a.width?String(a.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const ue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},he={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ve={date:j({formats:ue,defaultWidth:"full"}),time:j({formats:he,defaultWidth:"full"}),dateTime:j({formats:fe,defaultWidth:"full"})},be={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ge=(e,a,t,r)=>be[e];function y(e){return(a,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,o=t!=null&&t.width?String(t.width):d;s=e.formattingValues[o]||e.formattingValues[d]}else{const d=e.defaultWidth,o=t!=null&&t.width?String(t.width):e.defaultWidth;s=e.values[o]||e.values[d]}const c=e.argumentCallback?e.argumentCallback(a):a;return s[c]}}const ye={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},we={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Me={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},je={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Pe=(e,a)=>{const t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Ne={ordinalNumber:Pe,era:y({values:ye,defaultWidth:"wide"}),quarter:y({values:xe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:y({values:pe,defaultWidth:"wide"}),day:y({values:we,defaultWidth:"wide"}),dayPeriod:y({values:Me,defaultWidth:"wide",formattingValues:je,defaultFormattingWidth:"wide"})};function x(e){return(a,t={})=>{const r=t.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],c=a.match(s);if(!c)return null;const d=c[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(o)?We(o,p=>p.test(d)):De(o,p=>p.test(d));let v;v=e.valueCallback?e.valueCallback(g):g,v=t.valueCallback?t.valueCallback(v):v;const b=a.slice(d.length);return{value:v,rest:b}}}function De(e,a){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&a(e[t]))return t}function We(e,a){for(let t=0;t<e.length;t++)if(a(e[t]))return t}function O(e){return(a,t={})=>{const r=a.match(e.matchPattern);if(!r)return null;const s=r[0],c=a.match(e.parsePattern);if(!c)return null;let d=e.valueCallback?e.valueCallback(c[0]):c[0];d=t.valueCallback?t.valueCallback(d):d;const o=a.slice(s.length);return{value:d,rest:o}}}const Se=/^(\d+)(th|st|nd|rd)?/i,ke=/\d+/i,Ce={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Te={any:[/^b/i,/^(a|c)/i]},$e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Fe={any:[/1/i,/2/i,/3/i,/4/i]},Je={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Le={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Oe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ee={ordinalNumber:O({matchPattern:Se,parsePattern:ke,valueCallback:e=>parseInt(e,10)}),era:x({matchPatterns:Ce,defaultMatchWidth:"wide",parsePatterns:Te,defaultParseWidth:"any"}),quarter:x({matchPatterns:$e,defaultMatchWidth:"wide",parsePatterns:Fe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:x({matchPatterns:Je,defaultMatchWidth:"wide",parsePatterns:Ae,defaultParseWidth:"any"}),day:x({matchPatterns:Xe,defaultMatchWidth:"wide",parsePatterns:Ie,defaultParseWidth:"any"}),dayPeriod:x({matchPatterns:Le,defaultMatchWidth:"any",parsePatterns:Oe,defaultParseWidth:"any"})},He={code:"en-US",formatDistance:le,formatLong:ve,formatRelative:ge,localize:Ne,match:Ee,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Re(e,a,t){const r=ee(),s=(t==null?void 0:t.locale)??r.locale??He,c=2520,d=W(e,a);if(isNaN(d))throw new RangeError("Invalid time value");const o=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:d});let g,v;d>0?(g=u(a),v=u(e)):(g=u(e),v=u(a));const b=ce(v,g),p=(L(v)-L(g))/1e3,l=Math.round((b-p)/60);let i;if(l<2)return t!=null&&t.includeSeconds?b<5?s.formatDistance("lessThanXSeconds",5,o):b<10?s.formatDistance("lessThanXSeconds",10,o):b<20?s.formatDistance("lessThanXSeconds",20,o):b<40?s.formatDistance("halfAMinute",0,o):b<60?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",1,o):l===0?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",l,o);if(l<45)return s.formatDistance("xMinutes",l,o);if(l<90)return s.formatDistance("aboutXHours",1,o);if(l<I){const h=Math.round(l/60);return s.formatDistance("aboutXHours",h,o)}else{if(l<c)return s.formatDistance("xDays",1,o);if(l<D){const h=Math.round(l/I);return s.formatDistance("xDays",h,o)}else if(l<D*2)return i=Math.round(l/D),s.formatDistance("aboutXMonths",i,o)}if(i=de(v,g),i<12){const h=Math.round(l/D);return s.formatDistance("xMonths",h,o)}else{const h=i%12,m=Math.trunc(i/12);return h<3?s.formatDistance("aboutXYears",m,o):h<9?s.formatDistance("overXYears",m,o):s.formatDistance("almostXYears",m+1,o)}}function Ve(e,a){return Re(e,te(e),a)}const Ye={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},_e=(e,a,t)=>{let r;const s=Ye[e];return typeof s=="string"?r=s:a===1?r=s.one:r=s.other.replace("{{count}}",String(a)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"dans "+r:"il y a "+r:r},ze={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},qe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Qe={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Be={date:j({formats:ze,defaultWidth:"full"}),time:j({formats:qe,defaultWidth:"full"}),dateTime:j({formats:Qe,defaultWidth:"full"})},Ue={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},Ke=(e,a,t,r)=>Ue[e],Ze={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},Ge={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},et={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},tt={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},at={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},rt=(e,a)=>{const t=Number(e),r=a==null?void 0:a.unit;if(t===0)return"0";const s=["year","week","hour","minute","second"];let c;return t===1?c=r&&s.includes(r)?"ère":"er":c="ème",t+c},nt=["MMM","MMMM"],st={preprocessor:(e,a)=>e.getDate()===1||!a.some(r=>r.isToken&&nt.includes(r.value))?a:a.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:rt,era:y({values:Ze,defaultWidth:"wide"}),quarter:y({values:Ge,defaultWidth:"wide",argumentCallback:e=>e-1}),month:y({values:et,defaultWidth:"wide"}),day:y({values:tt,defaultWidth:"wide"}),dayPeriod:y({values:at,defaultWidth:"wide"})},it=/^(\d+)(ième|ère|ème|er|e)?/i,ot=/\d+/i,dt={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},ct={any:[/^av/i,/^ap/i]},mt={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},lt={any:[/1/i,/2/i,/3/i,/4/i]},ut={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},ht={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},ft={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},vt={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},bt={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},gt={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},yt={ordinalNumber:O({matchPattern:it,parsePattern:ot,valueCallback:e=>parseInt(e)}),era:x({matchPatterns:dt,defaultMatchWidth:"wide",parsePatterns:ct,defaultParseWidth:"any"}),quarter:x({matchPatterns:mt,defaultMatchWidth:"wide",parsePatterns:lt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:x({matchPatterns:ut,defaultMatchWidth:"wide",parsePatterns:ht,defaultParseWidth:"any"}),day:x({matchPatterns:ft,defaultMatchWidth:"wide",parsePatterns:vt,defaultParseWidth:"any"}),dayPeriod:x({matchPatterns:bt,defaultMatchWidth:"any",parsePatterns:gt,defaultParseWidth:"any"})},xt={code:"fr",formatDistance:_e,formatLong:Be,formatRelative:Ke,localize:st,match:yt,options:{weekStartsOn:1,firstWeekContainsDate:4}};function Dt({onNavigate:e,showToast:a=()=>{},useMockData:t=!1}){const{t:r}=R(),[s,c]=N.useState("all"),[d,o]=N.useState([]),[g,v]=N.useState(!0);V("SessionsScreen"),N.useEffect(()=>{t?(o(U),v(!1)):b()},[t]);const b=async()=>{var i,h;v(!0);try{const{sessions:m}=await A.getSessions(),w=m.map(M=>{var $,F,J;const f=M.selectedSlotId?($=M.slots)==null?void 0:$.find(S=>S.id===M.selectedSlotId):(F=M.slots)==null?void 0:F[0],P=(f==null?void 0:f.date)||"",E=new Date(P).toDateString()===new Date().toDateString(),H=((J=f==null?void 0:f.responses)==null?void 0:J.filter(S=>S.response==="yes").length)||0;return{...M,date:P,time:(f==null?void 0:f.time)||"",isToday:E,readyCount:H,totalPlayers:M.playersNeeded,selectedSlotId:f==null?void 0:f.id,relativeTime:P&&(f!=null&&f.time)?Ve(new Date(`${P}T${f.time}:00`),{addSuffix:!0,locale:xt}):""}});o(w||[])}catch(m){console.error("Load sessions error:",m),((i=m==null?void 0:m.message)!=null&&i.includes("Session")||(h=m==null?void 0:m.message)!=null&&h.includes("reconnecter"))&&a(m.message,"error")}finally{v(!1)}},p=d.filter(i=>s==="today"?i.isToday:s==="upcoming"?!i.isToday:!0),l=async(i,h,m)=>{if(t){a(m==="yes"?"Participation confirmée !":"Participation refusée","success");return}try{await A.rsvp(i,h,m),a(m==="yes"?"Participation confirmée !":"Participation refusée","success"),b()}catch(w){console.error("RSVP error:",w),a((w==null?void 0:w.message)||"Erreur lors de la réponse","error")}};return n.jsx("div",{className:"min-h-screen pb-24 pt-safe",children:n.jsxs("div",{className:"px-4 py-8 max-w-2xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-semibold text-[var(--fg-primary)] mb-2 tracking-tight",children:r("sessions.title")}),n.jsxs("p",{className:"text-base text-[var(--fg-tertiary)] font-medium",children:[d.length," sessions à venir"]})]}),n.jsx("div",{className:"flex gap-2 mb-8",children:["all","today","upcoming"].map(i=>n.jsxs("button",{onClick:()=>c(i),className:`px-5 py-2.5 rounded-full text-sm font-semibold transition-all duration-200 ${s===i?"bg-gradient-to-br from-[var(--primary-500)] to-[var(--primary-600)] text-white shadow-lg shadow-[var(--primary-500)]/20":"bg-white/60 backdrop-blur-sm text-[var(--fg-secondary)] border-[0.5px] border-[var(--border-medium)] hover:bg-white hover:border-[var(--border-strong)] shadow-sm"}`,children:[i==="all"&&"Toutes",i==="today"&&"Aujourd'hui",i==="upcoming"&&"À venir"]},i))}),g?n.jsx(X,{icon:k,title:"Chargement...",description:"Récupération de vos sessions"}):p.length===0?n.jsx(X,{icon:k,title:"Aucune session prévue",description:"Propose un créneau à ta squad",actionLabel:"Proposer une session",onAction:()=>e("propose-session")}):n.jsx("div",{className:"space-y-6",children:p.map((i,h)=>n.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.08},className:"relative",children:[h<p.length-1&&n.jsx("div",{className:"absolute left-6 top-16 bottom-0 w-[2px] bg-gradient-to-b from-[var(--border-medium)] to-transparent"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0 w-12 pt-1",children:n.jsxs("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center font-bold text-sm ${i.isToday?"bg-gradient-to-br from-[var(--primary-500)] to-[var(--primary-600)] text-white shadow-lg shadow-[var(--primary-500)]/20":"bg-white border-[1.5px] border-[var(--border-medium)] text-[var(--fg-tertiary)]"}`,children:[i.time.split(":")[0],"h"]})}),n.jsx(C.div,{className:"flex-1 bg-white rounded-2xl border-[0.5px] border-[var(--border-subtle)] shadow-sm hover:shadow-lg transition-all duration-200 overflow-hidden",whileHover:{y:-2},children:n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h3",{className:"text-lg font-bold text-[var(--fg-primary)]",children:i.title}),i.isToday&&n.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-gradient-to-r from-[var(--primary-500)]/10 to-[var(--primary-600)]/10 border border-[var(--primary-500)]/20 text-xs font-bold text-[var(--primary-600)] flex items-center gap-1",children:[n.jsx(Y,{className:"w-3 h-3",strokeWidth:2.5}),"Bientôt"]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-[var(--fg-tertiary)]",children:[n.jsx("span",{className:"font-medium",children:i.squad}),n.jsx("span",{className:"w-1 h-1 rounded-full bg-[var(--fg-tertiary)]/40"}),n.jsx("span",{children:i.game})]})]}),n.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden border border-[var(--border-subtle)] flex-shrink-0",children:n.jsx(B,{src:i.gameImage,alt:i.game,className:"w-full h-full object-cover"})})]}),n.jsxs("div",{className:"flex items-center gap-6 mb-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 text-[var(--fg-secondary)]",children:[n.jsx(k,{className:"w-4 h-4 text-[var(--fg-tertiary)]",strokeWidth:1.5}),n.jsx("span",{className:"font-medium",children:i.date})]}),n.jsxs("div",{className:"flex items-center gap-2 text-[var(--fg-secondary)]",children:[n.jsx(K,{className:"w-4 h-4 text-[var(--fg-tertiary)]",strokeWidth:1.5}),n.jsx("span",{className:"font-medium",children:i.time}),i.relativeTime&&n.jsxs("span",{className:"text-[var(--fg-tertiary)] ml-1 text-xs",children:["(",i.relativeTime,")"]}),n.jsx("span",{className:"text-[var(--primary-500)] text-xs font-semibold bg-[var(--primary-50)] px-1.5 py-0.5 rounded ml-2",children:"Paris"})]})]}),n.jsx("div",{className:"pt-4 border-t border-[var(--border-subtle)] space-y-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-[var(--bg-base)] border border-[var(--border-subtle)]",children:[n.jsx(_,{className:"w-4 h-4 text-[var(--secondary-500)]",strokeWidth:2}),n.jsxs("span",{className:`text-sm font-bold ${i.readyCount===i.totalPlayers?"text-[var(--success-600)]":"text-[var(--fg-secondary)]"}`,children:[i.readyCount||0,"/",i.totalPlayers||0]})]}),i.readyCount===i.totalPlayers&&n.jsxs("span",{className:"text-xs font-semibold text-[var(--success-600)] flex items-center gap-1",children:[n.jsx(T,{className:"w-3.5 h-3.5",strokeWidth:2.5}),"Complet"]})]}),i.status==="pending"&&n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>l(i.id,i.selectedSlotId,"yes"),className:"px-4 py-2 rounded-xl bg-gradient-to-br from-[var(--success-50)] to-[var(--success-100)] border border-[var(--success-200)] text-[var(--success-700)] text-sm font-bold hover:from-[var(--success-500)] hover:to-[var(--success-600)] hover:text-white transition-all duration-200",children:n.jsx(T,{className:"w-4 h-4",strokeWidth:2.5})}),n.jsx("button",{onClick:()=>l(i.id,i.selectedSlotId,"no"),className:"px-4 py-2 rounded-xl bg-gradient-to-br from-[var(--error-50)] to-[var(--error-100)] border border-[var(--error-200)] text-[var(--error-700)] text-sm font-bold hover:from-[var(--error-500)] hover:to-[var(--error-600)] hover:text-white transition-all duration-200",children:n.jsx(z,{className:"w-4 h-4",strokeWidth:2.5})})]}),i.status==="confirmed"&&n.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-gradient-to-r from-[var(--success-50)] to-[var(--success-100)] border border-[var(--success-200)] text-xs font-bold text-[var(--success-700)] flex items-center gap-1.5",children:[n.jsx(T,{className:"w-3.5 h-3.5",strokeWidth:2.5}),"Confirmé"]})]})})]})})]})]},i.id))}),n.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-8",children:n.jsxs(Q,{variant:"default",onClick:()=>e("propose-session"),className:"w-full h-14 text-base font-bold bg-gradient-to-r from-[var(--primary-500)] to-[var(--primary-600)] hover:from-[var(--primary-600)] hover:to-[var(--primary-700)] text-white rounded-2xl shadow-lg shadow-[var(--primary-500)]/20 hover:shadow-xl hover:shadow-[var(--primary-500)]/30 transition-all duration-200",children:[n.jsx(q,{className:"w-5 h-5 mr-2",strokeWidth:2}),"Proposer une session"]})})]})})}export{Dt as SessionsScreen,Dt as default};
