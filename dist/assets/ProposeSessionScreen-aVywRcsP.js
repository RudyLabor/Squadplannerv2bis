import{c as Z,r as l,j as e,V as F,m as C,B as E,X as R,N as ee,x as re,A as te,D as se,P as ae,C as ie,z as oe}from"./index-D_HhqbxM.js";import{B as ne}from"./button-LWl2mh07.js";import{I as le}from"./input-CcRrkoAc.js";import{g as de,G as ce}from"./GamePicker-Be3Z3rQN.js";import{C as G}from"./clock-CJ_fTx8V.js";import{A as me}from"./arrow-left-CFku1NrH.js";import{G as xe}from"./gamepad-2-hq8iF7Kb.js";import{R as he}from"./repeat-Dn9AkJD7.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);function ue({isOpen:D,onClose:c,onSelect:h,selectedDate:y,minDate:m}){const[s,o]=l.useState(new Date),[b,I]=l.useState(y);l.useEffect(()=>{y&&o(new Date(y))},[y]);const w=["Janvier","F√©vrier","Mars","Avril","Mai","Juin","Juillet","Ao√ªt","Septembre","Octobre","Novembre","D√©cembre"],$=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],M=t=>{const x=t.getFullYear(),a=t.getMonth(),f=new Date(x,a,1),T=new Date(x,a+1,0).getDate();let n=f.getDay();n===0&&(n=7);const S=[];for(let p=1;p<n;p++)S.push(null);for(let p=1;p<=T;p++)S.push(p);return S},i=()=>{o(new Date(s.getFullYear(),s.getMonth()-1))},u=()=>{o(new Date(s.getFullYear(),s.getMonth()+1))},v=t=>{const x=s.getFullYear(),a=s.getMonth(),g=new Date(x,a,t).toISOString().split("T")[0];m&&g<m||I(g)},N=()=>{b&&(h(b),c())},k=t=>{if(!m)return!1;const x=s.getFullYear(),a=s.getMonth();return new Date(x,a,t).toISOString().split("T")[0]<m},P=t=>{if(!b)return!1;const x=s.getFullYear(),a=s.getMonth();return new Date(x,a,t).toISOString().split("T")[0]===b},q=t=>{const x=new Date,a=s.getFullYear(),f=s.getMonth();return t===x.getDate()&&f===x.getMonth()&&a===x.getFullYear()},A=M(s);return D?e.jsx(F,{children:e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center p-0 sm:p-4",onClick:c,children:e.jsxs(C.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:30,stiffness:300},onClick:t=>t.stopPropagation(),className:"bg-white rounded-t-3xl sm:rounded-3xl w-full max-w-md shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[var(--border-subtle)]",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-[var(--primary-500)] to-[var(--primary-600)] flex items-center justify-center",children:e.jsx(E,{className:"w-5 h-5 text-white",strokeWidth:2})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-[var(--fg-primary)] tracking-tight",children:"Choisir une date"}),e.jsx("p",{className:"text-xs text-[var(--fg-tertiary)] mt-0.5",children:b?new Date(b+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"S√©lectionnez une date"})]})]}),e.jsx("button",{onClick:c,className:"w-10 h-10 rounded-xl bg-[var(--bg-subtle)] hover:bg-[var(--bg-muted)] flex items-center justify-center transition-colors",children:e.jsx(R,{className:"w-5 h-5 text-[var(--fg-secondary)]",strokeWidth:2})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("button",{onClick:i,className:"w-10 h-10 rounded-xl bg-[var(--bg-subtle)] hover:bg-[var(--bg-muted)] flex items-center justify-center transition-colors",children:e.jsx(be,{className:"w-5 h-5 text-[var(--fg-secondary)]",strokeWidth:2})}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"text-base font-semibold text-[var(--fg-primary)]",children:[w[s.getMonth()]," ",s.getFullYear()]})}),e.jsx("button",{onClick:u,className:"w-10 h-10 rounded-xl bg-[var(--bg-subtle)] hover:bg-[var(--bg-muted)] flex items-center justify-center transition-colors",children:e.jsx(ee,{className:"w-5 h-5 text-[var(--fg-secondary)]",strokeWidth:2})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-2 mb-3",children:$.map(t=>e.jsx("div",{className:"text-center text-xs font-semibold text-[var(--fg-tertiary)] py-2",children:t},t))}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:A.map((t,x)=>{if(t===null)return e.jsx("div",{},`empty-${x}`);const a=k(t),f=P(t),g=q(t);return e.jsx(C.button,{whileHover:a?{}:{scale:1.05},whileTap:a?{}:{scale:.95},onClick:()=>!a&&v(t),disabled:a,className:`aspect-square rounded-xl text-sm font-semibold transition-all duration-200 ${f?"bg-gradient-to-br from-[var(--primary-500)] to-[var(--primary-600)] text-white shadow-lg shadow-[var(--primary-500)]/20":g?"bg-[var(--primary-100)] text-[var(--primary-600)] border-2 border-[var(--primary-300)]":a?"bg-transparent text-[var(--fg-tertiary)]/30 cursor-not-allowed":"bg-[var(--bg-subtle)] text-[var(--fg-primary)] hover:bg-[var(--bg-muted)] hover:shadow-sm"}`,children:t},t)})})]}),b&&e.jsx("div",{className:"p-6 border-t border-[var(--border-subtle)] bg-gradient-to-br from-[var(--primary-50)] to-white",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:c,className:"flex-1 h-12 rounded-xl bg-[var(--bg-subtle)] text-[var(--fg-secondary)] text-sm font-semibold hover:bg-[var(--bg-muted)] transition-colors",children:"Annuler"}),e.jsx("button",{onClick:N,className:"flex-1 h-12 rounded-xl bg-gradient-to-br from-[var(--primary-500)] to-[var(--primary-600)] text-white text-sm font-semibold shadow-lg shadow-[var(--primary-500)]/20 hover:shadow-xl hover:shadow-[var(--primary-500)]/30 transition-all duration-200",children:"Confirmer"})]})})]})})}):null}function ve({isOpen:D,onClose:c,onSelect:h,selectedTime:y}){const[m,s]=l.useState("20"),[o,b]=l.useState("00");l.useEffect(()=>{if(y){const[i,u]=y.split(":");s(i),b(u)}},[y]);const I=Array.from({length:24},(i,u)=>String(u).padStart(2,"0")),w=["00","15","30","45"],$=()=>{h(`${m}:${o}`),c()},M=[{label:"Matin",time:"10:00",icon:"üåÖ"},{label:"Midi",time:"12:00",icon:"‚òÄÔ∏è"},{label:"Apr√®s-midi",time:"15:00",icon:"üå§Ô∏è"},{label:"Soir√©e",time:"19:00",icon:"üåÜ"},{label:"Nuit",time:"21:00",icon:"üåô"}];return D?e.jsx(F,{children:e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center p-0 sm:p-4",onClick:c,children:e.jsxs(C.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:30,stiffness:300},onClick:i=>i.stopPropagation(),className:"bg-white rounded-t-3xl sm:rounded-3xl w-full max-w-md shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[var(--border-subtle)]",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-[var(--secondary-500)] to-[var(--secondary-600)] flex items-center justify-center",children:e.jsx(G,{className:"w-5 h-5 text-white",strokeWidth:2})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-[var(--fg-primary)] tracking-tight",children:"Choisir une heure"}),e.jsxs("p",{className:"text-xs text-[var(--fg-tertiary)] mt-0.5",children:[m,":",o]})]})]}),e.jsx("button",{onClick:c,className:"w-10 h-10 rounded-xl bg-[var(--bg-subtle)] hover:bg-[var(--bg-muted)] flex items-center justify-center transition-colors",children:e.jsx(R,{className:"w-5 h-5 text-[var(--fg-secondary)]",strokeWidth:2})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-xs font-semibold text-[var(--fg-tertiary)] mb-3 block",children:"Cr√©neaux rapides"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:M.map(({label:i,time:u,icon:v})=>{const[N,k]=u.split(":"),P=m===N&&o===k;return e.jsxs("button",{onClick:()=>{s(N),b(k)},className:`p-3 rounded-xl text-center transition-all duration-200 ${P?"bg-gradient-to-br from-[var(--secondary-500)] to-[var(--secondary-600)] text-white shadow-lg shadow-[var(--secondary-500)]/20":"bg-[var(--bg-subtle)] text-[var(--fg-secondary)] hover:bg-[var(--bg-muted)] hover:shadow-sm"}`,children:[e.jsx("div",{className:"text-lg mb-1",children:v}),e.jsx("div",{className:"text-xs font-semibold",children:i}),e.jsx("div",{className:`text-xs mt-1 ${P?"text-white/90":"text-[var(--fg-tertiary)]"}`,children:u})]},u)})})]}),e.jsx("div",{className:"mb-6 py-8 bg-gradient-to-br from-[var(--secondary-50)] to-white rounded-2xl border-[0.5px] border-[var(--secondary-200)]",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-5xl font-semibold text-[var(--fg-primary)] tracking-tight",children:[m,e.jsx("span",{className:"text-[var(--fg-tertiary)] animate-pulse",children:":"}),o]}),e.jsx("div",{className:"text-sm text-[var(--fg-tertiary)] mt-2",children:parseInt(m)<12?"Matin":parseInt(m)<18?"Apr√®s-midi":"Soir√©e"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-[var(--fg-tertiary)] mb-2 block",children:"Heures"}),e.jsx("div",{className:"h-48 overflow-y-auto hide-scrollbar bg-[var(--bg-subtle)] rounded-xl p-2",children:e.jsx("div",{className:"space-y-1",children:I.map(i=>e.jsxs("button",{onClick:()=>s(i),className:`w-full py-2 px-3 rounded-lg text-sm font-semibold transition-all duration-200 ${m===i?"bg-gradient-to-br from-[var(--secondary-500)] to-[var(--secondary-600)] text-white shadow-md":"bg-transparent text-[var(--fg-secondary)] hover:bg-white hover:shadow-sm"}`,children:[i,"h"]},i))})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-[var(--fg-tertiary)] mb-2 block",children:"Minutes"}),e.jsx("div",{className:"h-48 overflow-y-auto hide-scrollbar bg-[var(--bg-subtle)] rounded-xl p-2",children:e.jsx("div",{className:"space-y-1",children:w.map(i=>e.jsx("button",{onClick:()=>b(i),className:`w-full py-2 px-3 rounded-lg text-sm font-semibold transition-all duration-200 ${o===i?"bg-gradient-to-br from-[var(--secondary-500)] to-[var(--secondary-600)] text-white shadow-md":"bg-transparent text-[var(--fg-secondary)] hover:bg-white hover:shadow-sm"}`,children:i},i))})})]})]})]}),e.jsx("div",{className:"p-6 border-t border-[var(--border-subtle)] bg-gradient-to-br from-[var(--secondary-50)] to-white",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:c,className:"flex-1 h-12 rounded-xl bg-[var(--bg-subtle)] text-[var(--fg-secondary)] text-sm font-semibold hover:bg-[var(--bg-muted)] transition-colors",children:"Annuler"}),e.jsx("button",{onClick:$,className:"flex-1 h-12 rounded-xl bg-gradient-to-br from-[var(--secondary-500)] to-[var(--secondary-600)] text-white text-sm font-semibold shadow-lg shadow-[var(--secondary-500)]/20 hover:shadow-xl hover:shadow-[var(--secondary-500)]/30 transition-all duration-200",children:"Confirmer"})]})})]})})}):null}function z({onNavigate:D,showToast:c,data:h}){var L,Y;const{t:y}=re(),[m,s]=l.useState(""),[o,b]=l.useState(null),[I,w]=l.useState(!1),[$,M]=l.useState(!1),[i,u]=l.useState(!1),[v,N]=l.useState(null),[k,P]=l.useState(""),[q,A]=l.useState("5"),[t,x]=l.useState(!1),[a,f]=l.useState(!1),[g,T]=l.useState(null),[n,S]=l.useState([{id:"1",date:"",time:"",duration:"2"}]),p=r=>{g===r?(T(null),s("")):(T(r),r==="ranked"&&s("Ranked Grind üèÜ"),r==="chill"&&s("Chill & Fun üç∫"),r==="scrim"&&s("Pracc / Scrim ‚öîÔ∏è"))},J=()=>{if(n.length>=5){c("Maximum 5 cr√©neaux","error");return}S([...n,{id:Date.now().toString(),date:"",time:"",duration:"2"}])},V=r=>{if(n.length===1){c("Au moins 1 cr√©neau requis","error");return}S(n.filter(d=>d.id!==r))},O=(r,d,j)=>{S(n.map(W=>W.id===r?{...W,[d]:j}:W))},H=r=>{N(r),M(!0)},_=r=>{N(r),u(!0)},B=r=>{v&&O(v,"date",r)},U=r=>{v&&O(v,"time",r)},X=async()=>{if(!m){c("Veuillez entrer un titre","error");return}if(n.find(d=>!d.date||!d.time)){c("Veuillez remplir tous les cr√©neaux","error");return}if(!(h!=null&&h.squadId)){c("Squad ID manquant","error");return}try{await oe.createSession(h.squadId,{title:m,game:(o==null?void 0:o.name)||"",playersNeeded:parseInt(q),comment:k,slots:n.map(d=>({date:d.date,time:d.time,duration:parseInt(d.duration)})),multiSlot:t,isRecurring:a,template:g}),c(t?`Session propos√©e avec ${n.length} cr√©neaux au vote !`:"Session propos√©e avec succ√®s !","success"),setTimeout(()=>D("sessions"),500)}catch(d){console.error("Create session error:",d),c(d.message||"Erreur lors de la cr√©ation de la session","error")}},K=m&&n.every(r=>r.date&&r.time);l.useEffect(()=>{h!=null&&h.squadId&&te.getSquad(h.squadId).then(r=>{if(r.squad){const d=de.find(j=>j.name===r.squad.game);d&&b(d)}}).catch(r=>{console.error("Failed to load squad:",r)})},[h==null?void 0:h.squadId]);const Q=new Date().toISOString().split("T")[0];return e.jsxs("div",{className:"min-h-screen pb-32 pt-safe bg-[var(--bg-base)]",children:[e.jsxs("div",{className:"px-4 py-8 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-10",children:[e.jsx("button",{onClick:()=>D("sessions"),className:"w-12 h-12 rounded-2xl bg-white border-[0.5px] border-[var(--border-medium)] flex items-center justify-center hover:border-[var(--border-strong)] shadow-sm transition-all",children:e.jsx(me,{className:"w-5 h-5 text-[var(--fg-primary)]",strokeWidth:2})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-[var(--fg-primary)] tracking-tight",children:"Proposer une session"}),e.jsx("p",{className:"text-sm text-[var(--fg-tertiary)] mt-1",children:"Organise ta prochaine partie"})]})]}),e.jsxs("div",{className:"mb-8 bg-white rounded-2xl p-4 border-[0.5px] border-[var(--border-subtle)] shadow-sm",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x(!1),className:`flex-1 h-11 rounded-xl font-semibold text-sm transition-all duration-200 ${t?"bg-[var(--bg-base)] text-[var(--fg-secondary)] hover:bg-[var(--bg-subtle)]":"bg-gradient-to-br from-[var(--primary-500)] to-[var(--primary-600)] text-white shadow-lg shadow-[var(--primary-500)]/20"}`,children:"Session unique"}),e.jsx("button",{onClick:()=>x(!0),className:`flex-1 h-11 rounded-xl font-semibold text-sm transition-all duration-200 ${t?"bg-gradient-to-br from-[var(--primary-500)] to-[var(--primary-600)] text-white shadow-lg shadow-[var(--primary-500)]/20":"bg-[var(--bg-base)] text-[var(--fg-secondary)] hover:bg-[var(--bg-subtle)]"}`,children:"Proposer plusieurs cr√©neaux"})]}),t&&e.jsx(C.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"text-xs text-[var(--fg-tertiary)] font-medium mt-3",children:"üí° La squad votera sur chaque cr√©neau. Le plus populaire sera confirm√©."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-[var(--fg-secondary)] mb-3 block font-semibold",children:"Titre de la session"}),e.jsx(le,{value:m,onChange:r=>s(r.target.value),placeholder:"Ex: Ranked Valorant",className:"h-14 bg-white border-[0.5px] border-[var(--border-medium)] rounded-2xl shadow-sm focus:border-[var(--primary-500)] text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-[var(--fg-secondary)] mb-3 block font-semibold",children:"Type de session (Templates)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>p("ranked"),className:`flex-1 h-12 rounded-xl text-xs font-bold border transition-all ${g==="ranked"?"bg-[var(--warning-50)] border-[var(--warning-500)] text-[var(--warning-700)] ring-2 ring-[var(--warning-200)]":"bg-white border-[var(--border-medium)] text-[var(--fg-secondary)] hover:border-[var(--warning-300)]"}`,children:"üèÜ Ranked"}),e.jsx("button",{onClick:()=>p("chill"),className:`flex-1 h-12 rounded-xl text-xs font-bold border transition-all ${g==="chill"?"bg-[var(--success-50)] border-[var(--success-500)] text-[var(--success-700)] ring-2 ring-[var(--success-200)]":"bg-white border-[var(--border-medium)] text-[var(--fg-secondary)] hover:border-[var(--success-300)]"}`,children:"üç∫ Chill"}),e.jsx("button",{onClick:()=>p("scrim"),className:`flex-1 h-12 rounded-xl text-xs font-bold border transition-all ${g==="scrim"?"bg-[var(--error-50)] border-[var(--error-500)] text-[var(--error-700)] ring-2 ring-[var(--error-200)]":"bg-white border-[var(--border-medium)] text-[var(--fg-secondary)] hover:border-[var(--error-300)]"}`,children:"‚öîÔ∏è Scrim"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-[var(--fg-secondary)] mb-3 block font-semibold",children:"Jeu"}),o?e.jsxs("button",{onClick:()=>w(!0),className:"w-full bg-white rounded-2xl p-4 border-[0.5px] border-[var(--border-subtle)] shadow-sm hover:shadow-md transition-all flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden flex-shrink-0",children:e.jsx("img",{src:o.image,alt:o.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"text-sm font-semibold text-[var(--fg-primary)]",children:o.name}),e.jsx("div",{className:"text-xs text-[var(--fg-tertiary)]",children:o.players})]}),e.jsx("div",{className:"px-3 py-1.5 rounded-lg bg-[var(--bg-subtle)] text-xs font-semibold text-[var(--fg-secondary)]",children:"Modifier"})]}):e.jsxs("button",{onClick:()=>w(!0),className:"w-full h-20 rounded-2xl border-2 border-dashed border-[var(--border-medium)] hover:border-[var(--primary-500)] bg-white hover:bg-[var(--primary-50)] transition-all flex flex-col items-center justify-center gap-2 group",children:[e.jsx(xe,{className:"w-8 h-8 text-[var(--fg-tertiary)] group-hover:text-[var(--primary-500)] transition-colors",strokeWidth:1.5}),e.jsx("span",{className:"text-sm font-semibold text-[var(--fg-tertiary)] group-hover:text-[var(--primary-500)] transition-colors",children:"Choisir un jeu"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-[var(--fg-secondary)] mb-3 block font-semibold",children:"Joueurs requis"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:[2,3,4,5,6].map(r=>e.jsxs("button",{onClick:()=>A(String(r)),className:`h-14 rounded-xl text-sm font-semibold transition-all duration-200 ${q===String(r)?"bg-gradient-to-br from-[var(--secondary-500)] to-[var(--secondary-600)] text-white shadow-md shadow-[var(--secondary-500)]/20":"bg-white border-[0.5px] border-[var(--border-medium)] text-[var(--fg-secondary)] hover:border-[var(--secondary-300)] hover:bg-[var(--secondary-50)]"}`,children:[e.jsx(se,{className:"w-4 h-4 mx-auto mb-1",strokeWidth:2}),r]},r))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("label",{className:"text-sm text-[var(--fg-secondary)] font-semibold",children:t?`Cr√©neaux propos√©s (${n.length}/5)`:"Date et heure"}),t&&n.length<5&&e.jsxs("button",{onClick:J,className:"flex items-center gap-1.5 text-sm text-[var(--primary-500)] hover:text-[var(--primary-600)] font-semibold transition-colors",children:[e.jsx(ae,{className:"w-4 h-4",strokeWidth:2}),"Ajouter un cr√©neau"]})]}),!t&&e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:()=>f(!a),className:`w-full flex items-center justify-between p-4 rounded-xl border-[0.5px] transition-all ${a?"bg-[var(--primary-50)] border-[var(--primary-200)]":"bg-white border-[var(--border-medium)]"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${a?"bg-[var(--primary-100)] text-[var(--primary-600)]":"bg-[var(--bg-subtle)] text-[var(--fg-tertiary)]"}`,children:e.jsx(he,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:`text-sm font-semibold ${a?"text-[var(--primary-700)]":"text-[var(--fg-primary)]"}`,children:"R√©p√©ter chaque semaine"}),e.jsx("div",{className:"text-xs text-[var(--fg-tertiary)]",children:"Cr√©e automatiquement cette session"})]})]}),e.jsx("div",{className:`w-6 h-6 rounded-full border flex items-center justify-center ${a?"bg-[var(--primary-500)] border-[var(--primary-500)]":"border-[var(--border-strong)]"}`,children:a&&e.jsx(ie,{className:"w-3.5 h-3.5 text-white",strokeWidth:3})})]})}),e.jsx("div",{className:"space-y-4",children:e.jsx(F,{mode:"popLayout",children:n.map((r,d)=>e.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-white rounded-2xl p-5 border-[0.5px] border-[var(--border-subtle)] shadow-sm",children:[t&&e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-sm font-semibold text-[var(--fg-primary)]",children:["Cr√©neau ",d+1]}),n.length>1&&e.jsx("button",{onClick:()=>V(r.id),className:"w-8 h-8 rounded-full bg-[var(--error-50)] flex items-center justify-center hover:bg-[var(--error-100)] transition-colors",children:e.jsx(R,{className:"w-4 h-4 text-[var(--error-600)]",strokeWidth:2})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-[var(--fg-tertiary)] mb-2 block font-semibold uppercase tracking-wider",children:"Date"}),e.jsxs("button",{onClick:()=>H(r.id),className:"w-full h-12 px-4 bg-[var(--bg-subtle)] border-[0.5px] border-[var(--border-medium)] hover:border-[var(--primary-500)] rounded-xl text-sm text-[var(--fg-primary)] focus:border-[var(--primary-500)] transition-all flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4 text-[var(--fg-tertiary)]",strokeWidth:2}),e.jsx("span",{className:"flex-1 text-left",children:r.date?new Date(r.date+"T00:00:00").toLocaleDateString("fr-FR",{day:"2-digit",month:"short"}):"Choisir"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-[var(--fg-tertiary)] mb-2 block font-semibold uppercase tracking-wider",children:"Heure"}),e.jsxs("button",{onClick:()=>_(r.id),className:"w-full h-12 px-4 bg-[var(--bg-subtle)] border-[0.5px] border-[var(--border-medium)] hover:border-[var(--secondary-500)] rounded-xl text-sm text-[var(--fg-primary)] focus:border-[var(--secondary-500)] transition-all flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-[var(--fg-tertiary)]",strokeWidth:2}),e.jsx("span",{className:"flex-1 text-left",children:r.time||"Choisir"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-[var(--fg-tertiary)] mb-2 block font-semibold uppercase tracking-wider",children:"Dur√©e"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["1","2","3","4"].map(j=>e.jsxs("button",{onClick:()=>O(r.id,"duration",j),className:`h-10 rounded-lg text-xs font-semibold transition-all duration-200 ${r.duration===j?"bg-gradient-to-br from-[var(--primary-500)] to-[var(--primary-600)] text-white shadow-md":"bg-[var(--bg-subtle)] text-[var(--fg-secondary)] hover:bg-[var(--bg-muted)]"}`,children:[j,"h"]},j))})]})]},r.id))})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-[var(--fg-secondary)] mb-3 block font-semibold",children:"Commentaire (optionnel)"}),e.jsx("textarea",{value:k,onChange:r=>P(r.target.value),placeholder:"Strat√©gie, r√¥les, objectifs...",className:"w-full h-24 px-4 py-3 bg-white border-[0.5px] border-[var(--border-medium)] rounded-2xl text-sm text-[var(--fg-primary)] focus:border-[var(--primary-500)] focus:ring-2 focus:ring-[var(--primary-500)]/20 transition-all resize-none shadow-sm"})]})]}),e.jsx("div",{className:"mt-8",children:e.jsx(ne,{variant:"default",onClick:X,disabled:!K,className:"w-full h-14 text-base font-semibold bg-gradient-to-br from-[var(--primary-500)] to-[var(--primary-600)] hover:from-[var(--primary-600)] hover:to-[var(--primary-700)] text-white rounded-xl shadow-lg shadow-[var(--primary-500)]/20 hover:shadow-xl hover:shadow-[var(--primary-500)]/30 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Proposer au vote":"Cr√©er la session"})})]}),e.jsx(ce,{isOpen:I,onClose:()=>w(!1),onSelect:b,selectedGame:o}),e.jsx(ue,{isOpen:$,onClose:()=>M(!1),onSelect:B,selectedDate:v?(L=n.find(r=>r.id===v))==null?void 0:L.date:void 0,minDate:Q}),e.jsx(ve,{isOpen:i,onClose:()=>u(!1),onSelect:U,selectedTime:v?(Y=n.find(r=>r.id===v))==null?void 0:Y.time:void 0})]})}const Se=Object.freeze(Object.defineProperty({__proto__:null,ProposeSessionScreen:z,default:z},Symbol.toStringTag,{value:"Module"}));export{be as C,z as P,Se as a};
